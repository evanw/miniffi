// This file was generated by miniffi v0.1.0. Do not edit.

#include "ffi.h"

extern "C" {

void _ffi_drop_Box_Adder(const void* ptr);
void _ffi_drop_Rc_Adder(const void* ptr);
int32_t _ffi_Box_Adder__add(const void* _self, int32_t x);
int32_t _ffi_Rc_Adder__add(const void* _self, int32_t x);
const void* _ffi_fn_get_adder_box(int32_t x);
const void* _ffi_fn_get_adder_rc(int32_t x);
uint32_t _ffi_fn_get_counter();
uintptr_t _ffi_fn_rust_mem_leaked();

} // extern "C"

namespace {

struct _ffi_Box_Adder final : rust::Adder {
    _ffi_Box_Adder(const void* ptr) : _self(ptr) {}
    virtual ~_ffi_Box_Adder() { _ffi_drop_Box_Adder(_self); }
    virtual int32_t add(int32_t x);
    const void* _self;
};

struct _ffi_Rc_Adder final : rust::Adder {
    _ffi_Rc_Adder(const void* ptr) : _self(ptr) {}
    virtual ~_ffi_Rc_Adder() { _ffi_drop_Rc_Adder(_self); }
    virtual int32_t add(int32_t x);
    const void* _self;
};

} // namespace

int32_t _ffi_Box_Adder::add(int32_t x) {
    return _ffi_Box_Adder__add(_self, x);
}

int32_t _ffi_Rc_Adder::add(int32_t x) {
    return _ffi_Rc_Adder__add(_self, x);
}

std::unique_ptr<rust::Adder> rust::get_adder_box(int32_t x) {
    auto ret_ptr = _ffi_fn_get_adder_box(x);
    return std::unique_ptr<rust::Adder>(new _ffi_Box_Adder(ret_ptr));
}

std::shared_ptr<rust::Adder> rust::get_adder_rc(int32_t x) {
    auto ret_ptr = _ffi_fn_get_adder_rc(x);
    return std::make_shared<_ffi_Rc_Adder>(ret_ptr);
}

uint32_t rust::get_counter() {
    return _ffi_fn_get_counter();
}

uintptr_t rust::rust_mem_leaked() {
    return _ffi_fn_rust_mem_leaked();
}
