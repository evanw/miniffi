// This file was generated by miniffi v0.1.0. Do not edit.

#[no_mangle]
extern "C" fn _ffi_dealloc(ptr: *mut u8, capacity: usize) {
    drop(unsafe { Vec::from_raw_parts(ptr, 0, capacity) });
}

fn _ffi_buf_to_host(buf: Vec<u8>) -> (*const u8, usize) {
    let buf = std::mem::ManuallyDrop::new(buf);
    (buf.as_ptr(), buf.capacity())
}

fn _ffi_write<T: Copy>(val: T, buf: &mut Vec<u8>) {
    let ptr = std::ptr::addr_of!(val) as *const u8;
    let len = std::mem::size_of::<T>();
    buf.extend_from_slice(unsafe { std::slice::from_raw_parts(ptr, len) });
}

#[allow(non_snake_case)]
fn _ffi_enum_LongEnum_to_js(val: LongEnum, buf: &mut Vec<u8>) {
    match val {
        LongEnum::Empty => _ffi_write(0 as i32, buf),
        LongEnum::ShortTuple(x) => {
            _ffi_write(1 as i32, buf);
            _ffi_write(x, buf);
        }
        LongEnum::ShortStruct { a } => {
            _ffi_write(2 as i32, buf);
            _ffi_write(a, buf);
        }
        LongEnum::LongTuple(x0, x1, x2, x3, x4, x5, x6, x7) => {
            _ffi_write(3 as i32, buf);
            _ffi_write(x0, buf);
            _ffi_write(x1, buf);
            _ffi_write(x2, buf);
            _ffi_write(x3, buf);
            _ffi_write(x4, buf);
            _ffi_write(x5, buf);
            _ffi_write(x6, buf);
            _ffi_write(x7, buf);
        }
        LongEnum::LongStruct { a, b, c, d, e, f } => {
            _ffi_write(4 as i32, buf);
            _ffi_write(a, buf);
            _ffi_write(b, buf);
            _ffi_write(c, buf);
            _ffi_write(d, buf);
            _ffi_write(e, buf);
            _ffi_write(f, buf);
        }
    }
}

#[no_mangle]
extern "C" fn _ffi_fn_i32_to_big(big: i32) -> i32 {
    i32_to_big(big) as i32
}

#[no_mangle]
extern "C" fn _ffi_fn_i32_to_foo(foo: i32) -> i32 {
    i32_to_foo(foo) as i32
}

#[no_mangle]
extern "C" fn _ffi_fn_long_out() -> *const _ffi_ret_ptr_usize {
    let mut buf = Vec::<u8>::new();
    _ffi_enum_LongEnum_to_js(long_out(), &mut buf);
    let (buf_ptr, buf_cap) = _ffi_buf_to_host(buf);
    unsafe {
        _FFI_RET_PTR_USIZE = _ffi_ret_ptr_usize(buf_ptr, buf_cap);
        std::ptr::addr_of!(_FFI_RET_PTR_USIZE)
    }
}

#[no_mangle]
extern "C" fn _ffi_fn_rust_mem_leaked() -> usize {
    rust_mem_leaked()
}

#[repr(C)]
struct _ffi_ret_ptr_usize(*const u8, usize);
static mut _FFI_RET_PTR_USIZE: _ffi_ret_ptr_usize = _ffi_ret_ptr_usize(std::ptr::null(), 0);
