// This file was generated by miniffi v0.1.0. Do not edit.

#include "ffi.h"
#include <stdlib.h>

struct _ffi_ret_ptr_usize {
    const void* _0;
    uintptr_t _1;
};

extern "C" {

int32_t _ffi_fn_i32_to_big(int32_t big);
int32_t _ffi_fn_i32_to_foo(int32_t foo);
void _ffi_dealloc(const void* ptr, uintptr_t capacity);
_ffi_ret_ptr_usize _ffi_fn_long_out();
uintptr_t _ffi_fn_rust_mem_leaked();

} // extern "C"

namespace {

template <typename T>
T _ffi_read(const uint8_t* &ptr) {
    T val;
    memcpy(&val, ptr, sizeof(T));
    ptr += sizeof(T);
    return val;
}

rust::LongEnum _ffi_enum_LongEnum_from_rust(const uint8_t*& end) {
    switch (_ffi_read<int32_t>(end)) {
    case 0:
        return rust::LongEnum{rust::LongEnum::Empty{}};
    case 1: {
        auto x = _ffi_read<int32_t>(end);
        return rust::LongEnum{rust::LongEnum::ShortTuple{x}};
    }
    case 2: {
        auto a = _ffi_read<int32_t>(end);
        return rust::LongEnum{rust::LongEnum::ShortStruct{a}};
    }
    case 3: {
        auto x0 = _ffi_read<int32_t>(end);
        auto x1 = _ffi_read<int32_t>(end);
        auto x2 = _ffi_read<int32_t>(end);
        auto x3 = _ffi_read<int32_t>(end);
        auto x4 = _ffi_read<int32_t>(end);
        auto x5 = _ffi_read<int32_t>(end);
        auto x6 = _ffi_read<int32_t>(end);
        auto x7 = _ffi_read<int32_t>(end);
        return rust::LongEnum{rust::LongEnum::LongTuple{x0, x1, x2, x3, x4, x5, x6, x7}};
    }
    case 4: {
        auto a = _ffi_read<int32_t>(end);
        auto b = _ffi_read<int32_t>(end);
        auto c = _ffi_read<int32_t>(end);
        auto d = _ffi_read<int32_t>(end);
        auto e = _ffi_read<int32_t>(end);
        auto f = _ffi_read<int32_t>(end);
        return rust::LongEnum{rust::LongEnum::LongStruct{a, b, c, d, e, f}};
    }
    default:
        abort();
    }
}

} // namespace

rust::Big rust::i32_to_big(int32_t big) {
    auto ret_raw = _ffi_fn_i32_to_big(big);
    return rust::Big(ret_raw);
}

rust::Foo rust::i32_to_foo(int32_t foo) {
    auto ret_raw = _ffi_fn_i32_to_foo(foo);
    return rust::Foo(ret_raw);
}

rust::LongEnum rust::long_out() {
    auto multi_ret = _ffi_fn_long_out();
    auto buf_ptr = multi_ret._0;
    auto buf_cap = multi_ret._1;
    auto buf_end = (const uint8_t*)buf_ptr;
    auto ret = _ffi_enum_LongEnum_from_rust(buf_end);
    _ffi_dealloc(buf_ptr, buf_cap);
    return ret;
}

uintptr_t rust::rust_mem_leaked() {
    return _ffi_fn_rust_mem_leaked();
}
